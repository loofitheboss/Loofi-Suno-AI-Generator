# Loofi Suno AI Generator

An AI-powered song generator that creates complete song packages (title, style prompt, lyrics, and creative strategy) optimized for [Suno.com](https://suno.com)'s custom creation mode.

The app now uses a backend API with pluggable LLM providers:
- Gemini
- OpenAI
- Auto fallback routing (tries providers by configured order)

## Features

- **AI Song Generation** -- Describe your song topic and get a full song pack: title, style prompt, structured lyrics, and a creative strategy note
- **Manual Settings** -- Optionally fine-tune genre, mood, voice type, tempo, and song structure (Standard, Pop, Rap, Ambient, or Custom)
- **Provider Selection** -- Choose `auto`, `gemini`, or `openai` per request
- **Language + Instrumental Controls** -- Generate multilingual lyrics and force instrumental mode
- **Lyrics Editor** -- Edit generated lyrics in a full-featured editor with tag injection toolbar
- **Suno Tag System** -- Insert Suno-compatible structure tags (`[Verse]`, `[Chorus]`, `[Bridge]`, etc.), genre tags, mood tags, and more directly into your lyrics
- **AI Lyrics Extension** -- Extend your lyrics with AI-generated continuations that match the existing style
- **One-Click Copy** -- Copy title, style prompt, or lyrics individually for pasting into Suno
- **Direct Suno Launch** -- Open Suno.com's create page directly from the app

## Tech Stack

- **Frontend:** React 18 + TypeScript + Vite + Tailwind CSS
- **Backend:** FastAPI (Python)
- **Providers:** Gemini + OpenAI

## Prerequisites

- [Node.js](https://nodejs.org/) (v18 or higher recommended)
- [Python](https://www.python.org/) (3.11+ recommended)
- At least one API key:
  - **Gemini** key from [aistudio.google.com/apikey](https://aistudio.google.com/apikey)
  - **OpenAI** key from your OpenAI dashboard

## Getting Started

1. **Clone the repository**

   ```bash
   git clone https://github.com/loofitheboss/Loofi-Suno-AI-Generator.git
   cd Loofi-Suno-AI-Generator
   ```

2. **Install frontend dependencies**

   ```bash
   npm install
   ```

3. **Create backend env file**

   ```bash
   cp .env.example server/.env
   ```

   Fill in at least one API key in `server/.env`.

4. **Create Python virtual environment and install backend deps**

   ```bash
   python -m venv .venv
   source .venv/bin/activate
   pip install -r server/requirements.txt
   ```

5. **Run backend API**

   ```bash
   npm run dev:server
   ```

6. **Run frontend dev server**

   ```bash
   npm run dev
   ```

7. **Open the app** at `http://localhost:5173`

## Docker Image (Linux + Windows Hosts)

You can run the same container image on both Linux and Windows hosts (Docker Desktop on Windows).

1. **Create backend env file**

   ```bash
   cp .env.example server/.env
   ```

2. **Set at least one provider key** in `server/.env` (`GEMINI_API_KEY` and/or `OPENAI_API_KEY`).

3. **Build and run with Docker Compose**

   ```bash
   docker compose up --build
   ```

4. Open `http://localhost:8000`

### Windows PowerShell notes

- Copy env template:

  ```powershell
  Copy-Item .env.example server/.env
  ```

- Start app:

  ```powershell
  docker compose up --build
  ```

### Optional multi-arch Linux image build

```bash
docker buildx build --platform linux/amd64,linux/arm64 -t loofi-suno-ai-generator:latest .
```

## GitHub Actions Image Publish

This repo now includes `.github/workflows/docker-image.yml`.

- On push to `main` and on version tags (`v*`), it builds a multi-arch image (`linux/amd64`, `linux/arm64`) and publishes to GHCR.
- On pull requests, it runs a build-only validation (no push).
- Published image path:

```text
ghcr.io/<github-owner>/loofi-suno-ai-generator
```

If your package visibility is private, update it in GitHub Packages settings after first publish.

For version tags, `.github/workflows/release-notes.yml` also creates a GitHub Release with autogenerated notes and pinned container pull commands.

## Usage

1. **Describe your song** -- Enter a topic or story idea (up to 500 characters)
2. **Adjust settings** (optional) -- Expand "Manual Settings" to set provider, language, genre, mood, voice, tempo, and structure
3. **Generate** -- Click "Generate Song Pack" to create your song
4. **Edit & refine** -- Modify the title, style prompt, and lyrics as needed
5. **Extend lyrics** -- Use the "Extend" button to add AI-generated continuations
6. **Copy & paste into Suno** -- Copy the style prompt and lyrics, then click "Launch Suno.com" to open Suno's custom creation mode

## Building for Production

Frontend build:

```bash
npm run build
```

The built files will be in the `dist/` directory.

## API Endpoints

- `GET /api/health` -- health check
- `GET /api/song/providers` -- provider availability and defaults
- `POST /api/song/generate` -- generate title/style/lyrics/explanation
- `POST /api/song/extend` -- extend existing lyrics

## License

This project is licensed under the MIT License -- see the [LICENSE](LICENSE) file for details.
